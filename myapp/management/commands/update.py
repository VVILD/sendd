#data={"SE78967851":"3355357910","SE78967532":"33326967770","SE78967531":"33326962465","SE78967686":"3326962384","SE78967613":"33355357814","SE78967758":"14579329284","SE78967754":"33326963180","SE78967707":"33326962502","SE78967816":"3326962406","se78969718":"33355358050","SE78969722":"14579325681","SE78970213":"14579329225","SE78970214":"14579329155","SE78969477":"14579325725","SE78969460":"14579325670","se78969457":"14579323666","SE78967498":"33355357965","SE78967514":"33355357926","SE78967652":"33355358002","SE78967653":"B991B4034933","SE78967659":"33355358013","SE78967672":"33355358046","SE78967626":"3326962373","SE78967747":"33355357830","SE78967745":"33326962340","SE78967716":"33326967781","SE78967629":"33326962535","SE78967820":"3326962362","SE78967818":"3326962524","SE78967834":"B991B4034934","SE78970249":"14579329133","SE78967675":"3326962476","SE78967862":"33326963250","SE78967853":"33326963294","SE78967541":"33326963246","SE78967918":"33355357792","SE78967646":"33326963191","SE78967641":"33326963272","SE78967640":"33326963235","SE78967645":"33326963165","SE78967763":"33326963143","SE78967728":"33326962561","SE78967789":"33326963213","SE78970298":"14579329240","SE78970250":"14579329100","SE78970244":"14579329144","SE78970242":"14579329166","SE78967601":"14579325563","SE78967670":"3326962325","SE78967691":"33326962480","SE78967812":"3326962443","SE78967624":"3326962513","SE78967669":"33326962454","SE78967573":"33355357760","SE78968911":"14579329111","SE78968905":"33355357906","se78967870":"3355357895","SE78967880":"33355357840","SE78967843":"33355357872","SE78967896":"33326963305","SE78967621":"33355357884","SE78967863":"33355357803","SE78967842":"3326962303","SE78967841":"3355357921","SE78967596":"14579325703","SE78967552":"33326962351","SE78967528":"33326963176","SE78967496":"33326963202","SE78967511":"33326963154","SE78967937":"3326962410","SE78967916":"33326963224","SE78967914":"33326963143","SE78967902":"33355357991","SE78967642":"33326963283","SE78967636":"3326962292","SE78967668":"33326962546","SE78967674":"33326962432","SE78967693":"33355357744","SE78967682":"33355357862","SE78967683":"33326962281","SE78967634":"33326962314","SE78967631":"33326962465","SE78967671":"33326967735","SE78967726":"33355357980","SE78967702":"33355357954","SE78967810":"33355357744","SE78967776":"3355357943","SE78967821":"33326962421","SE78967827":"3326962491","SE78967848":"33326967825","SE78968867":"14579325585","SE78969732":"14579325600","SE78969729":"14579329273","SE78969719":"14579325655","SE78970320":"14579329181","SE78970317":"14579325633","SE78970331":"14579329262","SE78970329":"14579325644","SE78970245":"14579329192","SE78970243":"14579329122","SE78970237":"14579329170","SE78970267":"14579329251","SE78970262":"14579329236","SE78970224":"14579329214","se78969501":"14579325596","SE78969463":"14579325751","SE78969468":"14579325611","SE78969470":"14579329085","SE78969467":"14579325692","SE78969472":"14579325622","se78969449":"14579325740","se78969448":"14579325714","se78969450":"14579329203","se78969451":"14579325736","SE78969530":"14579325574"}

#data={"SE78969751":"M233273400","SE78969720":"M233273401"}
data= {"SE78968936":"33355358256","SE78970312":"33355358315","SE78969696":"33355358326","SE78970258":"33355358330","SE78969587":"33355358341","SE78969479":"33355358352","SE78969554":"33355358260","SE78969699":"33355358385","SE78970233":"33355358396","SE78969694":"33355358411","SE78969525":"33355358422","SE78967622":"33355358444","SE78967577":"33355358481","SE78970163":"33355358470","SE78967605":"33355358536","SE78967599":"14579328750","SE78970264":"33355358212","SE78968864":"33355358201","SE78970315":"33355358190","SE78969508":"33355358186","SE78970263":"33355358175","SE78970221":"33355358164","SE78969516":"14579325821","SE78967579":"14579325832","SE78968854":"14579325843","SE78970341":"14579325854","SE78969559":"33355358223","SE78970274":"33355358245","SE78970340":"33355358234","SE78970253":"33355358304","SE78970287":"33355358271","SE78969735":"33355358282","SE78969543":"33355358363","SE78967598":"33355358374","SE78970292":"33355358293","SE78870235":"33355358621","SE79968865":"33355358400","SE78970308":"33355358433","SE78969553":"33355358455","SE78970305":"33355358466","SE78968931":"14579325865","SE78968883":"14579325876","SE78970234":"14579325880","SE78969492":"14579325891","SE78969478":"14579325902","SE78969741":"14579325913","SE78970288":"14579325924","SE78967799":"14579325935","SE78970293":"14579325946","SE78969494":"14579325950","SE78969483":"14579325961","SE78969750":"14579325972","SE78970219":"14579325983","SE78967865":"33355358116","SE78970261":"33355358142","SE78970282":"33355358131","SE78970217":"33355358120","SE78967854":"33355358105","SE78969513":"33355358061","SE78970246":"33355355235","SE78970330":"33355357501","SE78969671":"14579329015","SE78970284":"33355355180","SE78969670":"33355355202","SE78968929":"33355355191","SE78969512":"33355355176","SE78970303":"33355355165","SE78969514":"33355355154","SE78970275":"33355355143","SE78969745":"33355355132","SE78970290":"33355355121","SE78969505":"14579328945","SE78970216":"33355355110","SE78970311":"33355355106","SE78970210":"14579328783","SE78968945":"33355355445","SE78970325":"33355355460","SE78970281":"33355355471","SE78970291":"33355355482","SE78969518":"33355355633","SE78970324":"33355355681","SE78969738":"33355355703","SE78970299":"14579325762","SE78970227":"14579325773","SE78970328":"14579325784","SE78969524":"14579325796","SE78969522":"14579325806","SE78970336":"14579325810","SE78970270":"33355358072","SE78970265":"33355358083","SE78970222":"33355358094","SE78969538":"33355355390","SE78970285":"33355355434","SE78970286":"33355355412","SE78970306":"33355355423","SE78970342":"33355355401","SE78969493":"33355355456","SE78968871":"33355355380","SE78970332":"33355355806","SE78970322":"33355355493","SE78970344":"33355355552","SE78970339":"33355355574","SE78970295":"33355355563","SE78968930":"33355355530","SE78970225":"33355355541","SE78969506":"33355356053","SE78970338":"33355355526","SE78967699":"33355355504","SE78969581":"33355355515","SE78967557":"33355355644","SE78970337":"33355355585","SE78970231":"33355355596","SE78968866":"33355355714","SE78967913":"33355355740","SE78969496":"33355355751","SE78970255":"33355355736","SE78969515":"33355355725","SE78969747":"33355355692","SE78969452":"33355355655","SE78970273":"33355355666","SE78970294":"33355355670","SE78967610":"33355355600","SE78970272":"33355355622","SE78970314":"33355355611","SE78967658":"14579328761","SE78970300":"14579328772","SE78969421":"33355358606","SE78969412":"33355358632","SE78968882":"33355358562","SE78968950":"33355358573","SE78970162":"33355358525","SE78969730":"33355358551","SE78967656":"33355358540","SE78970191":"33355358514","SE78967709":"33355358503","SE78969507":"33355358492","SE78968953":"14579328805","SE78969395":"14579328794","SE78970260":"14579328831","SE78968880":"33355355003","SE78968953":"14579328805","SE78969734":"14579328890","SE78969752":"14579328886","SE78969674":"14579328875","SE78970389":"14579328842","SE78969491":"14579328853","SE78969517":"33355355025","SE78970240":"33355355014","SE78969475":"33355355040","SE78969744":"33355355036","SE78970301":"14579328864","SE78970278":"14579328912","SE78970238":"14579328820","SE78969392":"14579328956","SE78967597":"14579328901","SE78970258":"14579328816","SE78970186":"14579328923","SE78970335":"33355355051","SE78967566":"33355355062","SE78969487":"33355355073","SE78969545":"33355355081","SE78968879":"14579328934","SE78970211":"33355355095","SE78970302":"14579329004","SE78969550":"14579329026","SE78970248":"14579329030","SE78969503":"14579329041","SE78970318":"14579329052","SE78970220":"14579329063","SE78970230":"33355355246","SE78970251":"14579329074","SE78967609":"14579328960","SE78969746":"14579328971","SE78970323":"33355355331","SE78968944":"33355355250","SE78969519":"14579328982","SE78969716":"33355355342","SE78969464":"14579325994","SE78970239":"33355355320","SE78970319":"33355355283","SE78968946":"14579326005","SE78969476":"14579326016","SE78969499":"14579326020","SE78968933":"14579326031","SE78969589":"14579326042","SE78969497":"33355355261","SE78969681":"33355355272","SE78968916":"33355355294","SE78969690":"33355355305","SE78969595":"33355355316","SE78969495":"33355355353","SE78969574":"33355355375","SE78969521":"33355355224","SE78970313":"33355355213","SE78969546":"14579328993"}


from django.core.management.base import BaseCommand
from businessapp.models import Product
from myapp.models import Shipment
import easypost
import aftership
api = aftership.APIv4('c46ba2ea-5a3e-43c9-bda6-793365ec1ebb')
import json
import time
import dateutil.parser
import datetime
import urllib
import re
import datetime	



easypost.api_key = 'UX9cFcEOVCEvw32QgFjXBg'


format='%Y-%m-%d %H:%M:%S'


def remove_non_ascii_1(text):
	return ''.join(i for i in text if ord(i)<128)


class Command(BaseCommand):
  args = 'Arguments is not needed'
  help = 'Django admin custom command poc.'
 
  def handle(self, *args, **options):

	error=[]
  	for barcode in data:
  		try:
  			product=Product.objects.get(barcode=barcode)
  			product.mapped_tracking_no=data[barcode]
  			product.company='B'
  			product.save()
  		except:
  			print "ERROR"
  			print barcode
  			print "ERROR"
  			error.append(barcode)

 	print error	


