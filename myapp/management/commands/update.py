data={"SE78967851":"3355357910","SE78967532":"33326967770","SE78967531":"33326962465","SE78967686":"3326962384","SE78967613":"33355357814","SE78967758":"14579329284","SE78967754":"33326963180","SE78967707":"33326962502","SE78967816":"3326962406","se78969718":"33355358050","SE78969722":"14579325681","SE78970213":"14579329225","SE78970214":"14579329155","SE78969477":"14579325725","SE78969460":"14579325670","se78969457":"14579323666","SE78967498":"33355357965","SE78967514":"33355357926","SE78967652":"33355358002","SE78967653":"B991B4034933","SE78967659":"33355358013","SE78967672":"33355358046","SE78967626":"3326962373","SE78967747":"33355357830","SE78967745":"33326962340","SE78967716":"33326967781","SE78967629":"33326962535","SE78967820":"3326962362","SE78967818":"3326962524","SE78967834":"B991B4034934","SE78970249":"14579329133","SE78967675":"3326962476","SE78967862":"33326963250","SE78967853":"33326963294","SE78967541":"33326963246","SE78967918":"33355357792","SE78967646":"33326963191","SE78967641":"33326963272","SE78967640":"33326963235","SE78967645":"33326963165","SE78967763":"33326963143","SE78967728":"33326962561","SE78967789":"33326963213","SE78970298":"14579329240","SE78970250":"14579329100","SE78970244":"14579329144","SE78970242":"14579329166","SE78967601":"14579325563","SE78967670":"3326962325","SE78967691":"33326962480","SE78967812":"3326962443","SE78967624":"3326962513","SE78967669":"33326962454","SE78967573":"33355357760","SE78968911":"14579329111","SE78968905":"33355357906","se78967870":"3355357895","SE78967880":"33355357840","SE78967843":"33355357872","SE78967896":"33326963305","SE78967621":"33355357884","SE78967863":"33355357803","SE78967842":"3326962303","SE78967841":"3355357921","SE78967596":"14579325703","SE78967552":"33326962351","SE78967528":"33326963176","SE78967496":"33326963202","SE78967511":"33326963154","SE78967937":"3326962410","SE78967916":"33326963224","SE78967914":"33326963143","SE78967902":"33355357991","SE78967642":"33326963283","SE78967636":"3326962292","SE78967668":"33326962546","SE78967674":"33326962432","SE78967693":"33355357744","SE78967682":"33355357862","SE78967683":"33326962281","SE78967634":"33326962314","SE78967631":"33326962465","SE78967671":"33326967735","SE78967726":"33355357980","SE78967702":"33355357954","SE78967810":"33355357744","SE78967776":"3355357943","SE78967821":"33326962421","SE78967827":"3326962491","SE78967848":"33326967825","SE78968867":"14579325585","SE78969732":"14579325600","SE78969729":"14579329273","SE78969719":"14579325655","SE78970320":"14579329181","SE78970317":"14579325633","SE78970331":"14579329262","SE78970329":"14579325644","SE78970245":"14579329192","SE78970243":"14579329122","SE78970237":"14579329170","SE78970267":"14579329251","SE78970262":"14579329236","SE78970224":"14579329214","se78969501":"14579325596","SE78969463":"14579325751","SE78969468":"14579325611","SE78969470":"14579329085","SE78969467":"14579325692","SE78969472":"14579325622","se78969449":"14579325740","se78969448":"14579325714","se78969450":"14579329203","se78969451":"14579325736","SE78969530":"14579325574"}

#data={"SE78969751":"M233273400","SE78969720":"M233273401"}


from django.core.management.base import BaseCommand
from businessapp.models import Product
from myapp.models import Shipment
import easypost
import aftership
api = aftership.APIv4('c46ba2ea-5a3e-43c9-bda6-793365ec1ebb')
import json
import time
import dateutil.parser
import datetime
import urllib
import re
import datetime	



easypost.api_key = 'UX9cFcEOVCEvw32QgFjXBg'


format='%Y-%m-%d %H:%M:%S'


def remove_non_ascii_1(text):
	return ''.join(i for i in text if ord(i)<128)


class Command(BaseCommand):
  args = 'Arguments is not needed'
  help = 'Django admin custom command poc.'
 
  def handle(self, *args, **options):

	error=[]
  	for barcode in data:
  		try:
  			product=Product.objects.get(barcode=barcode)
  			product.mapped_tracking_no=data[barcode]
  			product.company='B'
  			product.save()
  		except:
  			print "ERROR"
  			print barcode
  			print "ERROR"
  			error.append(barcode)

 	print error	


