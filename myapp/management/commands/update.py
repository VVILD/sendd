#data={"SE78967851":"3355357910","SE78967532":"33326967770","SE78967531":"33326962465","SE78967686":"3326962384","SE78967613":"33355357814","SE78967758":"14579329284","SE78967754":"33326963180","SE78967707":"33326962502","SE78967816":"3326962406","se78969718":"33355358050","SE78969722":"14579325681","SE78970213":"14579329225","SE78970214":"14579329155","SE78969477":"14579325725","SE78969460":"14579325670","se78969457":"14579323666","SE78967498":"33355357965","SE78967514":"33355357926","SE78967652":"33355358002","SE78967653":"B991B4034933","SE78967659":"33355358013","SE78967672":"33355358046","SE78967626":"3326962373","SE78967747":"33355357830","SE78967745":"33326962340","SE78967716":"33326967781","SE78967629":"33326962535","SE78967820":"3326962362","SE78967818":"3326962524","SE78967834":"B991B4034934","SE78970249":"14579329133","SE78967675":"3326962476","SE78967862":"33326963250","SE78967853":"33326963294","SE78967541":"33326963246","SE78967918":"33355357792","SE78967646":"33326963191","SE78967641":"33326963272","SE78967640":"33326963235","SE78967645":"33326963165","SE78967763":"33326963143","SE78967728":"33326962561","SE78967789":"33326963213","SE78970298":"14579329240","SE78970250":"14579329100","SE78970244":"14579329144","SE78970242":"14579329166","SE78967601":"14579325563","SE78967670":"3326962325","SE78967691":"33326962480","SE78967812":"3326962443","SE78967624":"3326962513","SE78967669":"33326962454","SE78967573":"33355357760","SE78968911":"14579329111","SE78968905":"33355357906","se78967870":"3355357895","SE78967880":"33355357840","SE78967843":"33355357872","SE78967896":"33326963305","SE78967621":"33355357884","SE78967863":"33355357803","SE78967842":"3326962303","SE78967841":"3355357921","SE78967596":"14579325703","SE78967552":"33326962351","SE78967528":"33326963176","SE78967496":"33326963202","SE78967511":"33326963154","SE78967937":"3326962410","SE78967916":"33326963224","SE78967914":"33326963143","SE78967902":"33355357991","SE78967642":"33326963283","SE78967636":"3326962292","SE78967668":"33326962546","SE78967674":"33326962432","SE78967693":"33355357744","SE78967682":"33355357862","SE78967683":"33326962281","SE78967634":"33326962314","SE78967631":"33326962465","SE78967671":"33326967735","SE78967726":"33355357980","SE78967702":"33355357954","SE78967810":"33355357744","SE78967776":"3355357943","SE78967821":"33326962421","SE78967827":"3326962491","SE78967848":"33326967825","SE78968867":"14579325585","SE78969732":"14579325600","SE78969729":"14579329273","SE78969719":"14579325655","SE78970320":"14579329181","SE78970317":"14579325633","SE78970331":"14579329262","SE78970329":"14579325644","SE78970245":"14579329192","SE78970243":"14579329122","SE78970237":"14579329170","SE78970267":"14579329251","SE78970262":"14579329236","SE78970224":"14579329214","se78969501":"14579325596","SE78969463":"14579325751","SE78969468":"14579325611","SE78969470":"14579329085","SE78969467":"14579325692","SE78969472":"14579325622","se78969449":"14579325740","se78969448":"14579325714","se78969450":"14579329203","se78969451":"14579325736","SE78969530":"14579325574"}

#data={"SE78969751":"M233273400","SE78969720":"M233273401"}
data={"SE78969764":"14380694160","SE78970104":"14380694171","SE78969759":"14380694182","SE78969335":"14380695151","SE78970111":"14380695162","SE78969373":"14380695173","SE78970112":"14380695125","SE78969343":"14380695136","SE78970150":"14380695140","SE78969348":"14380695206","SE78969342":"14380695195","SE78970139":"14380695184","SE78969433":"14380695092","SE78969351":"14380695103","SE78969369":"14380695114","SE78969426":"14380695210","SE78969387":"14380695221","SE78970105":"14380695232","SE78969383":"14380695276","SE78969337":"14380695280","SE78970149":"14380695291","SE78969756":"14380695243","SE78969367":"14380695254","SE78969382":"14380695265","SE78970131":"14380694193","SE78970151":"14380694204","SE78969423":"14380694215","SE78969775":"14380695302","SE78970136":"14380695313","SE78969386":"14380695324","SE78969376":"14380694226","SE78969339":"14380694230","SE78970134":"14380694241","SE78970115":"14380694285","SE78969353":"14380694296","SE78969346":"14380694300","SE78969768":"14380694252","SE78969334":"14380694263","SE78970109":"14380694274","SE78970142":"14380694311","SE78969377":"14380694322","SE78969380":"14380694333","SE78969371":"14380694344","SE78970080":"14380694355","SE78970075":"14380694366","SE78970083":"14380694370","SE78969772":"14380694381","SE78970114":"14380694392","SE78970088":"14380694403","SE78970087":"14380694414","SE78969754":"14380694425","SE78970086":"14380694495","SE78969372":"14380694506","SE78969360":"14380694510","SE78969365":"14380694436","SE78970181":"14380694440","SE78970141":"14380694451","SE78970157":"14380694462","SE78970160":"14380694473","SE78969375":"14380694484","SE78970119":"14380694521","SE78970194":"14380694532","SE78969361":"14380694543","SE78969761":"14380695066","SE78970073":"14380695070","SE78970074":"14380695081","SE78970076":"14380695033","SE78970071":"14380695044","SE78969363":"14380695055","SE78970077":"14380695000","SE78970081":"14380695011","SE78970079":"14380695022","SE78970180":"14380694941","SE78969366":"14380694952","SE78969374":"14380694963","SE78970078":"14380694974","SE78970154":"14380694985","SE78969345":"14380694996","SE78970082":"14380694915","SE78969338":"14380694926","SE78970212":"14380694930","SE78969770":"14380694856","SE78970158":"14380694860","SE78970140":"14380694871","SE78970084":"14380694823","SE78970156":"14380694834","SE78970113":"14380694845","SE78970102":"14380694882","SE78970125":"14380694893","SE78970127":"14380694904","SE78970120":"14380694790","SE78970110":"14380694801","SE78970101":"14380694812","SE78969358":"14380694731","SE78969388":"14380694742","SE78970135":"14380694753","SE78969431":"14380694764","SE78970153":"14380694775","SE78970145":"14380694786","SE78969359":"14380694554","SE78970155":"14380694565","SE78969765":"14380694576","SE78970126":"14380694613","SE78969341":"14380694624","SE78969378":"14380694635","SE78970090":"14380694580","SE78970100":"14380694591","SE78969347":"14380694602","SE78970130":"14380694646","SE78969777":"14380694650","SE78969349":"14380694661","SE78970098":"14380694672","SE78969774":"14380694683","SE78970128":"14380694694","SE78969767":"14380694705","SE78970124":"14380694716","SE78969352":"14380694720"}



from django.core.management.base import BaseCommand
from businessapp.models import Product
from myapp.models import Shipment
import easypost
import aftership
api = aftership.APIv4('c46ba2ea-5a3e-43c9-bda6-793365ec1ebb')
import json
import time
import dateutil.parser
import datetime
import urllib
import re
import datetime	



easypost.api_key = 'UX9cFcEOVCEvw32QgFjXBg'


format='%Y-%m-%d %H:%M:%S'


def remove_non_ascii_1(text):
	return ''.join(i for i in text if ord(i)<128)


class Command(BaseCommand):
  args = 'Arguments is not needed'
  help = 'Django admin custom command poc.'
 
  def handle(self, *args, **options):

	error=[]
  	for barcode in data:
  		try:
  			product=Product.objects.get(barcode=barcode)
  			product.mapped_tracking_no=data[barcode]
  			product.company='B'
  			product.save()
  		except:
  			print "ERROR"
  			print barcode
  			print "ERROR"
  			error.append(barcode)

 	print error	


